# Speex AEC Console Tool

**–ú–æ—â–Ω–æ–µ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —ç—Ö–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏—è –∏ —à—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏—è** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ SpeexDSP. 

üéØ **–ì–æ—Ç–æ–≤—ã–µ –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º** | üîß **5 —Ä–µ–∂–∏–º–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏** | ‚ö° **–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** | üéõÔ∏è **–¢–æ–Ω–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîä **–≠—Ö–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ (Echo Cancellation)** - —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —ç—Ö–∞ –æ—Ç –¥–∏–Ω–∞–º–∏–∫–æ–≤
- üîá **–ü–æ–¥–∞–≤–ª–µ–Ω–∏–µ —à—É–º–∞ (Noise Suppression)** - —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ–Ω–æ–≤–æ–≥–æ —à—É–º–∞
- üéôÔ∏è **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ä–µ—á–∏ (Voice Activity Detection)** - –¥–µ—Ç–µ–∫—Ç–æ—Ä –≥–æ–ª–æ—Å–æ–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- üîâ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞ —É—Å–∏–ª–µ–Ω–∏—è (AGC)** - –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–æ–º–∫–æ—Å—Ç–∏
- ‚öôÔ∏è **5 —Ä–µ–∂–∏–º–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏**: AEC+NS, NS‚ÜíAEC, NS-only, AEC-only, bypass
- üïê **–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Ñ—Ä–µ–π–º–∞ speaker
- üéõÔ∏è **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** - —Ç–æ—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Å–µ—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤
- üìÅ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ A-law PCM** 16 –∫–ì—Ü –º–æ–Ω–æ
- ‚ö° **–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** ‚Äî –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 320 —Å—ç–º–ø–ª–æ–≤ (20 –º—Å), –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **Linux**: Ubuntu 20.04+ / Debian 11+ / –¥—Ä—É–≥–∏–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤—ã
- **macOS**: macOS 11+ —Å Homebrew
- **Windows**: Windows 10+ —Å MinGW-w64/MSYS2 –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ GitHub Actions
- **Go**: 1.22+ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è)
- **SpeexDSP**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ì–æ—Ç–æ–≤—ã–µ –±–∏–Ω–∞—Ä–Ω–∏–∫–∏** –¥–æ—Å—Ç—É–ø–Ω—ã –≤ [Releases](../../releases) –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
- –ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞)

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### üì¶ –°–∫–∞—á–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –ò–¥–∏—Ç–µ –≤ [Releases](../../releases)
2. –°–∫–∞—á–∞–π—Ç–µ –≤–µ—Ä—Å–∏—é –¥–ª—è –≤–∞—à–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:
   - **Linux**: `speex-linux`
   - **macOS**: `speex-macos` 
   - **Windows**: `speex.exe`
3. –ì–æ—Ç–æ–≤–æ! –ù–∏–∫–∞–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ

### üõ† –°–±–æ—Ä–∫–∞ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤

#### Linux (Ubuntu/Debian)
```bash
sudo apt update
sudo apt install libspeexdsp-dev pkg-config golang-go
go build -o speex
```

#### macOS
```bash
brew install speexdsp pkg-config go
go build -o speex
```

#### ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ —á–µ—Ä–µ–∑ GitHub Actions
- Fork —ç—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- Push –∏–∑–º–µ–Ω–µ–Ω–∏—è ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
- –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ–≥ `v1.0.0` ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–ª–∏–∑ —Å –±–∏–Ω–∞—Ä–Ω–∏–∫–∞–º–∏

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫ (16 –∫–ì—Ü, 20 –º—Å –∫–∞–¥—Ä, —Ö–≤–æ—Å—Ç 200 –º—Å)
./speex -mic microphone.alaw -speaker speaker.alaw -output clean_output.alaw

# –ö–∞–¥—Ä 10 –º—Å (160 —Å—ç–º–ø–ª–æ–≤), —Ö–≤–æ—Å—Ç 150 –º—Å, 16 –∫–ì—Ü
./speex -mic mic.alaw -speaker spk.alaw -output out.alaw \
  -sample-rate 16000 -frame-size 160 -echo-tail 150

# –Ø–≤–Ω–∞—è –¥–ª–∏–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞ 4096 —Å—ç–º–ø–ª–æ–≤ (–ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç echo-tail)
./speex -mic mic.alaw -speaker spk.alaw -output out.alaw \
  -filter-len 4096
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| `-mic` | üé§ –í—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª —Å –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ (raw A-law, 16 –∫–ì—Ü –º–æ–Ω–æ) |
| `-speaker` | üîä –†–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ã–π —Ñ–∞–π–ª —Å –¥–∏–Ω–∞–º–∏–∫–∞ (raw A-law, 16 –∫–ì—Ü –º–æ–Ω–æ) |
| `-output` | üíæ –í—ã—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: output.alaw) |
| `-prev-speaker` | ‚è±Ô∏è –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ (–ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ñ—Ä–µ–π–º speaker) |
| `-ns-first` | üîÑ NS ‚Üí AEC (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: AEC ‚Üí NS) |
| `-ns-only` | üîá –¢–æ–ª—å–∫–æ –ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ —à—É–º–∞ (speaker –Ω–µ –Ω—É–∂–µ–Ω) |
| `-aec-only` | üîä –¢–æ–ª—å–∫–æ —ç—Ö–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ |
| `-bypass` | ‚ö° –û–±—Ö–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è) |
| `-help` | ‚ùì –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É |

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–≤

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| `-sample-rate` | –ß–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏ –≤ –ì—Ü (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 16000) |
| `-frame-size` | –†–∞–∑–º–µ—Ä –∫–∞–¥—Ä–∞ –≤ —Å—ç–º–ø–ª–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 320) |
| `-echo-tail` | –î–ª–∏–Ω–∞ —Ö–≤–æ—Å—Ç–∞ —ç—Ö–∞ –≤ –º—Å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 200) |
| `-filter-len` | –î–ª–∏–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞ —ç—Ö–∞ –≤ —Å—ç–º–ø–ª–∞—Ö (–µ—Å–ª–∏ >0, –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç `-echo-tail`) |

### –¢–æ–Ω–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —à—É–º–æ–¥–∞–≤–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|----------|----------|--------------|
| `-noise-suppress` | üéöÔ∏è –£—Ä–æ–≤–µ–Ω—å –ø–æ–¥–∞–≤–ª–µ–Ω–∏—è —à—É–º–∞ –≤ –¥–ë (–±–æ–ª—å—à–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ = –±–æ–ª—å—à–µ –ø–æ–¥–∞–≤–ª–µ–Ω–∏—è) | -15.0 |
| `-vad` | üéôÔ∏è –í–∫–ª—é—á–∏—Ç—å –¥–µ—Ç–µ–∫—Ç–æ—Ä –≥–æ–ª–æ—Å–æ–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ | –≤—ã–∫–ª—é—á–µ–Ω |
| `-vad-prob-start` | üü¢ –ü–æ—Ä–æ–≥ –Ω–∞—á–∞–ª–∞ —Ä–µ—á–∏ –¥–ª—è VAD (0-100) | 80 |
| `-vad-prob-continue` | ‚ñ∂Ô∏è –ü–æ—Ä–æ–≥ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è —Ä–µ—á–∏ –¥–ª—è VAD (0-100) | 65 |
| `-agc` | üîâ –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫—É —É—Å–∏–ª–µ–Ω–∏—è | –≤—ã–∫–ª—é—á–µ–Ω |
| `-agc-level` | üìä –¶–µ–ª–µ–≤–æ–π RMS —É—Ä–æ–≤–µ–Ω—å –¥–ª—è AGC | 30000.0 |

### –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏

–û–ø—Ü–∏—è `-prev-speaker` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ñ—Ä–µ–π–º speaker —Å —Ç–µ–∫—É—â–∏–º —Ñ—Ä–µ–π–º–æ–º microphone. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ –∑–∞–¥–µ—Ä–∂–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ —Å–∏—Å—Ç–µ–º–∞—Ö —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏:

```bash
# –û–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º: mic[n] + speaker[n] -> output[n]
./speex -mic mic.alaw -speaker spk.alaw -output normal.alaw

# –†–µ–∂–∏–º —Å –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–µ–π: mic[n] + speaker[n-1] -> output[n]  
./speex -mic mic.alaw -speaker spk.alaw -output delayed.alaw -prev-speaker
```

### üéõÔ∏è –†–µ–∂–∏–º—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏

–î–æ—Å—Ç—É–ø–Ω–æ **5 —Ä–µ–∂–∏–º–æ–≤** –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—É–¥–∏–æ:

```bash
# 1. üîäüîá AEC ‚Üí NS (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é): —ç—Ö–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ, –∑–∞—Ç–µ–º —à—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ
./speex -mic mic.alaw -speaker spk.alaw -output aec_first.alaw

# 2. üîáüîä NS ‚Üí AEC: —à—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ, –∑–∞—Ç–µ–º —ç—Ö–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ  
./speex -mic mic.alaw -speaker spk.alaw -output ns_first.alaw -ns-first

# 3. üîá –¢–æ–ª—å–∫–æ NS: —Ç–æ–ª—å–∫–æ —à—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ (speaker —Ñ–∞–π–ª –Ω–µ –Ω—É–∂–µ–Ω)
./speex -mic mic.alaw -output ns_only.alaw -ns-only

# 4. üîä –¢–æ–ª—å–∫–æ AEC: —Ç–æ–ª—å–∫–æ —ç—Ö–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ (speaker —Ñ–∞–π–ª –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω)
./speex -mic mic.alaw -speaker spk.alaw -output aec_only.alaw -aec-only

# 5. ‚ö° Bypass: –±–µ–∑ –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏)
./speex -mic mic.alaw -output unchanged.alaw -bypass

# üïê –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: –ª—é–±–æ–π —Ä–µ–∂–∏–º —Å –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–µ–π –∑–∞–¥–µ—Ä–∂–∫–∏ (–∫—Ä–æ–º–µ NS-only –∏ bypass)
./speex -mic mic.alaw -speaker spk.alaw -output delayed.alaw -aec-only -prev-speaker
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å NS-first:**
- –í—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å —Ñ–æ–Ω–æ–≤–æ–≥–æ —à—É–º–∞ –≤ –º–∏–∫—Ä–æ—Ñ–æ–Ω–µ
- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —É–ª—É—á—à–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–∞ –ø–µ—Ä–µ–¥ —ç—Ö–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ–º
- –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### –†–µ–∂–∏–º —Ç–æ–ª—å–∫–æ –ø–æ–¥–∞–≤–ª–µ–Ω–∏—è —à—É–º–∞

–û–ø—Ü–∏—è `-ns-only` –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ —à—É–º–∞ –±–µ–∑ —ç—Ö–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏—è. –í —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ speaker —Ñ–∞–π–ª –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è:

```bash
# –¢–æ–ª—å–∫–æ –ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ —à—É–º–∞ (speaker —Ñ–∞–π–ª –Ω–µ –Ω—É–∂–µ–Ω)
./speex -mic noisy_audio.alaw -output clean_audio.alaw -ns-only
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å NS-only:**
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø–∏—Å–µ–π –±–µ–∑ —ç—Ö–∞ (—Å—Ç—É–¥–∏–π–Ω—ã–µ –∑–∞–ø–∏—Å–∏, –∏–Ω—Ç–µ—Ä–≤—å—é)
- –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ–Ω–æ–≤–æ–≥–æ —à—É–º–∞ –∏–∑ –∞—É–¥–∏–æ—Ñ–∞–π–ª–æ–≤
- –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É–¥–∏–æ –ø–µ—Ä–µ–¥ –¥—Ä—É–≥–∏–º–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏
- –ë—ã—Å—Ç—Ä–∞—è –æ—á–∏—Å—Ç–∫–∞ –æ—Ç —à—É–º–∞ –±–µ–∑ AEC overhead'–∞

### –†–µ–∂–∏–º —Ç–æ–ª—å–∫–æ —ç—Ö–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏—è

–û–ø—Ü–∏—è `-aec-only` –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ —ç—Ö–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ –±–µ–∑ –ø–æ–¥–∞–≤–ª–µ–Ω–∏—è —à—É–º–∞. Speaker —Ñ–∞–π–ª –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω:

```bash
# –¢–æ–ª—å–∫–æ —ç—Ö–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ (speaker —Ñ–∞–π–ª –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω)
./speex -mic mic_with_echo.alaw -speaker reference.alaw -output clean.alaw -aec-only

# AEC —Å –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–µ–π –∑–∞–¥–µ—Ä–∂–∫–∏
./speex -mic mic.alaw -speaker ref.alaw -output clean.alaw -aec-only -prev-speaker
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AEC-only:**
- –ß–∏—Å—Ç—ã–µ –∑–∞–ø–∏—Å–∏ —Å —ç—Ö–æ–º (–±–µ–∑ —Ñ–æ–Ω–æ–≤–æ–≥–æ —à—É–º–∞)
- –¢–µ–ª–µ—Ñ–æ–Ω–Ω—ã–µ/VoIP –∑–≤–æ–Ω–∫–∏ —Å —ç—Ö–æ–º
- –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∑–≤—É–∫–∞
- –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –¥—Ä—É–≥–∏—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ —à—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —à—É–º–æ–¥–∞–≤–∞

```bash
# –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ —à—É–º–∞
./speex -mic noisy.alaw -output clean.alaw -ns-only

# –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ –ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ —à—É–º–∞ (–º–æ–∂–µ—Ç —É—Ö—É–¥—à–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ —Ä–µ—á–∏)
./speex -mic noisy.alaw -output clean.alaw -ns-only -noise-suppress -25

# –ú—è–≥–∫–æ–µ –ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ —à—É–º–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ —Ä–µ—á–∏
./speex -mic noisy.alaw -output clean.alaw -ns-only -noise-suppress -8

# –° –≤–∫–ª—é—á–µ–Ω–Ω—ã–º VAD (–¥–µ—Ç–µ–∫—Ç–æ—Ä —Ä–µ—á–∏)
./speex -mic noisy.alaw -output clean.alaw -ns-only -vad -vad-prob-start 85

# –° –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫–æ–π –≥—Ä–æ–º–∫–æ—Å—Ç–∏
./speex -mic quiet.alaw -output loud.alaw -ns-only -agc -agc-level 35000

# –ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: NS + VAD + AGC
./speex -mic input.alaw -output output.alaw -ns-only \
  -noise-suppress -12 -vad -vad-prob-start 75 -vad-prob-continue 60 \
  -agc -agc-level 28000
```

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

**–£—Ä–æ–≤–µ–Ω—å –ø–æ–¥–∞–≤–ª–µ–Ω–∏—è —à—É–º–∞ (`-noise-suppress`):**
- `-5` –¥–æ `-10` - –ª–µ–≥–∫–æ–µ –ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ, —Ö–æ—Ä–æ—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ —Ä–µ—á–∏
- `-15` - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), –±–∞–ª–∞–Ω—Å –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –æ—á–∏—Å—Ç–∫–∏
- `-20` –¥–æ `-30` - –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ, –º–æ–∂–µ—Ç –∏—Å–∫–∞–∑–∏—Ç—å —Ä–µ—á—å

**VAD –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
- `vad-prob-start` 70-85 - —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞ –Ω–∞—á–∞–ª–∞ —Ä–µ—á–∏
- `vad-prob-continue` 60-70 - —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è —Ä–µ—á–∏
- –í—ã—Å–æ–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è = –º–µ–Ω–µ–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π –¥–µ—Ç–µ–∫—Ç–æ—Ä

**AGC –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
- 20000-40000 - —Ç–∏–ø–∏—á–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω RMS —É—Ä–æ–≤–Ω–µ–π
- –ú–µ–Ω—å—à–µ –∑–Ω–∞—á–µ–Ω–∏–µ = —Ç–∏—à–µ –≤—ã—Ö–æ–¥, –±–æ–ª—å—à–µ = –≥—Ä–æ–º—á–µ –≤—ã—Ö–æ–¥

## –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–æ–≤

–í—Ö–æ–¥–Ω—ã–µ –∏ –≤—ã—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
- Raw A-law PCM (–±–µ–∑ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤)
- 16 –∫–ì—Ü —á–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏
- –ú–æ–Ω–æ (1 –∫–∞–Ω–∞–ª)
- 8 –±–∏—Ç –Ω–∞ —Å—ç–º–ø–ª

## –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤

### –ò–∑ WAV –≤ A-law:
```bash
# –° –ø–æ–º–æ—â—å—é FFmpeg
ffmpeg -i input.wav -ar 16000 -ac 1 -f alaw output.alaw

# –° –ø–æ–º–æ—â—å—é SoX  
sox input.wav -t al -r 16000 -c 1 output.alaw
```

### –ò–∑ A-law –≤ WAV:
```bash
# –° –ø–æ–º–æ—â—å—é FFmpeg
ffmpeg -f alaw -ar 16000 -ac 1 -i input.alaw output.wav

# –° –ø–æ–º–æ—â—å—é SoX
sox -t al -r 16000 -c 1 input.alaw output.wav
```

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `main.go` | üñ•Ô∏è CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –ø–∞—Ä—Å–∏–Ω–≥ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –æ–±—Ä–∞–±–æ—Ç–∫–∏ |
| `alaw.go` | üîß A-law –∫–æ–¥–µ–∫ (–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ/–¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ) —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏ |
| `speex_aec.go` | üîó cgo –æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è SpeexDSP (AEC, NS, VAD, AGC) |
| `.github/workflows/` | ü§ñ GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–∏ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º |

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- üöÄ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö
- üìä **–ü—Ä–æ–≥—Ä–µ—Å—Å** –≤—ã–≤–æ–¥–∏—Ç—Å—è –∫–∞–∂–¥—ã–µ ~16 —Å–µ–∫—É–Ω–¥ (800 —Ñ—Ä–µ–π–º–æ–≤)
- üíæ **–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏**: ~10 –ú–ë (–≤–∫–ª—é—á–∞—è –±—É—Ñ–µ—Ä—ã SpeexDSP)
- üéØ **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–¥–µ–∫–∏**: —Ç–∞–±–ª–∏—Ü—ã A-law –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
- üîß **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞**: –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ runtime

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ë–∞–∑–æ–≤–æ–µ —ç—Ö–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ
```bash
./speex -mic recorded_call.alaw -speaker playback_reference.alaw
```

### –° —É–∫–∞–∑–∞–Ω–∏–µ–º –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
```bash
./speex -mic mic.alaw -speaker spk.alaw -output cleaned.alaw
```

## üö® –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### "–ì–æ–ª–æ—Å –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ —Ö–∞–æ—Å"
- üîß **–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º—è–≥–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ NS: `-noise-suppress -8`
- üéöÔ∏è **–ü—Ä–∏—á–∏–Ω–∞**: –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (-15 –¥–ë)
- üß™ **–¢–µ—Å—Ç**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `-bypass` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞

### –ü–ª–æ—Ö–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –ø—Ä–∏ `-ns-only`
- üéõÔ∏è –ü–æ–ø—Ä–æ–±—É–π—Ç–µ: `-noise-suppress -5` –¥–æ `-10` –¥–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ —Ä–µ—á–∏
- üéôÔ∏è –í–∫–ª—é—á–∏—Ç–µ VAD: `-vad -vad-prob-start 75`
- üîâ –î–æ–±–∞–≤—å—Ç–µ AGC –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏: `-agc -agc-level 25000`

### –û—à–∏–±–∫–∏ —Å–±–æ—Ä–∫–∏ –Ω–∞ Windows
- üê≥ **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–∏
- ‚öôÔ∏è **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞**: –°–∫–∞—á–∞–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫ –∏–∑ Releases

### "no such file or directory"
- üìÅ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç
- üîß –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ FFmpeg/SoX (—Å–º. —Ä–∞–∑–¥–µ–ª –≤—ã—à–µ)

## ‚ö†Ô∏è –õ–∏–º–∏—Ç–∞—Ü–∏–∏

- üìÅ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**: –§–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –≤—Ä–µ–º–µ–Ω–∏
- üéµ **–§–æ—Ä–º–∞—Ç**: –¢–æ–ª—å–∫–æ –º–æ–Ω–æ A-law 16 –∫–ì—Ü (–±–µ–∑ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤)
- ‚è±Ô∏è **Echo tail**: –ú–∞–∫—Å–∏–º—É–º 200 –º—Å (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
- üîß **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –î–ª—è —Å–±–æ—Ä–∫–∏ –Ω—É–∂–µ–Ω SpeexDSP (–≥–æ—Ç–æ–≤—ã–µ –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ –µ–≥–æ –Ω–µ —Ç—Ä–µ–±—É—é—Ç)

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- üìã **Issues**: [GitHub Issues](../../issues) –¥–ª—è –±–∞–≥-—Ä–µ–ø–æ—Ä—Ç–æ–≤
- üí° **–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è**: [GitHub Discussions](../../discussions) –¥–ª—è –∏–¥–µ–π  
- üìñ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: [Wiki](../../wiki) —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –≥–∞–π–¥–∞–º–∏ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)

---

## üéâ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∑–∞ 3 —à–∞–≥–∞:

1. **üì¶ –°–∫–∞—á–∞–π—Ç–µ** –≥–æ—Ç–æ–≤—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫ –∏–∑ [Releases](../../releases)
2. **üéµ –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ** A-law —Ñ–∞–π–ª—ã (16 –∫–ì—Ü –º–æ–Ω–æ) 
3. **üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç–µ**: `./speex -mic input.alaw -speaker ref.alaw`

### –ò–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞:

1. **üç¥ Fork** —ç—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. **üì§ Push** –∏–∑–º–µ–Ω–µ–Ω–∏—è  
3. **ü§ñ GitHub Actions** —Å–æ–±–µ—Ä–µ—Ç –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

**–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∞—É–¥–∏–æ**

> üí° **Tip**: –ù–∞—á–Ω–∏—Ç–µ —Å `-bypass` —Ä–µ–∂–∏–º–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∑–∞—Ç–µ–º –ø–æ–ø—Ä–æ–±—É–π—Ç–µ `-ns-only` —Å –º—è–≥–∫–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ (`-noise-suppress -8`)
